<h1> <%= "#{@user.username}" %> </h1>
<h5>
    <%= "Karma: #{Vote.where(:up => true, :user_id => @user.id).count - Vote.where(:up => false, :user_id => @user.id).count}" %>
</h5>
<h5>
    <%= "Posts: #{@postCount}" %>
</h5>
<h5>
    <%= "Comments: #{@commentCount}" %>
</h5>

<div class="digg_pagination">
    <div class="page_info">
      <%= page_entries_info @links %>
    </div>
    <%= will_paginate @links, :container => false %>
</div>

<ul class="list-group">
  <% @user.links.each do |link| %>
    <li class="list-group-item" style="border: 2px solid #888; margin-top: 10px; margin-bottom: 10px"> 
        <%= link_to link.title, link_path(link.id) %> <br>
        <%= link_to link.url, link.url %> <br>
        Votes: <%= link.votes.where(:up => true).count - link.votes.where(:up => false).count %> <br>

        <div>
          <% if current_user && current_user.votes.where(:link_id => link.id, :up => true).present? %>
            <i class="fa fa-arrow-up" aria-hidden="true"></i>
          <% elsif current_user %>
            <%= link_to votes_path(:vote => {:link_id => link.id, :up => true, :user_id => current_user.id}), :method => :post do %>
              <i class="fa fa-arrow-up" aria-hidden="true"></i>
              <% end %>
          <% else %>
          <% end %>

          <% if current_user && current_user.votes.where(:link_id => link.id, :up => false).present? %>
            <i class="fa fa-arrow-down" aria-hidden="true"></i>
          <% elsif current_user %>
            <%= link_to votes_path(:vote => {:link_id => link.id, :up => false, :user_id => current_user.id}), :method => :post do %>
              <i class="fa fa-arrow-down" aria-hidden="true"></i>
            <% end %>
          <% else %>
          <% end %>
        </div>
        <br>
        <%= link_to "comments:", link_path(link.id) %> 
        <%= link.comments.count %>
    </li>
  <% end %>
</ul>